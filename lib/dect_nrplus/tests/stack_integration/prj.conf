# /* lib/dect_nrplus/tests/stack_integration/prj.conf */
# // Overview: Kconfig for the stack integration test. Enables all layers and their threads.
# Enable Ztest framework
CONFIG_ZTEST=y
CONFIG_TEST_USERSPACE=n

# System clock for native_sim
CONFIG_SYS_CLOCK_EXISTS=y
CONFIG_SYS_CLOCK_TICKS_PER_SEC=1000000
CONFIG_TIMEOUT_64BIT=y

# Enable the full DECT NR+ Stack and its layers
CONFIG_DECT_NRPLUS_STACK=y
CONFIG_DECT_MAC_LAYER=y
CONFIG_DECT_DLC_LAYER=y
CONFIG_DECT_CVG_LAYER=y

CONFIG_DECT_MAC_ROLE_IS_FT=y
CONFIG_DECT_MAC_ROLE_IS_PT=y
CONFIG_DECT_MAC_ROLE_IS_FT_PT=y

# Enable the driver's internal threads for asynchronous testing
CONFIG_DECT_MAC_OWN_THREAD=n
CONFIG_DECT_STACK_HAS_APP_THREADS=n

# Disable security for this test to focus on data flow
CONFIG_DECT_MAC_SECURITY_ENABLE=n
CONFIG_DECT_CVG_SECURITY_ENABLE=n

# Enable dependencies
CONFIG_ENTROPY_GENERATOR=y
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_ZMS=y

# Enable Logging for debugging
CONFIG_LOG=y
CONFIG_DECT_MAC_API_LOG_LEVEL=4
CONFIG_DECT_CVG_LOG_LEVEL=3
CONFIG_DECT_DLC_LOG_LEVEL=3
CONFIG_DECT_MAC_CORE_LOG_LEVEL=3
CONFIG_DECT_MAC_SM_PT_LOG_LEVEL=3
CONFIG_DECT_MAC_SM_FT_LOG_LEVEL=3
# CONFIG_DECT_MAC_DATA_PATH_LOG_LEVEL=4

# CONFIG_DECT_MAC_DEBUG_HARQ=y


# Set a short SDU lifetime for the timeout test
CONFIG_DECT_DLC_DEFAULT_SDU_LIFETIME_MS=200
CONFIG_DECT_MAC_FT_DEFAULT_OPERATING_CHANNEL=2

# Enable the test-only spy function for dect_mac_send()
CONFIG_DECT_MAC_SEND_MOCK_API=n

# Enable the test-only mock API for the DLC layer
CONFIG_DECT_DLC_API_MOCK=n
